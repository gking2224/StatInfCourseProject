---
title: "Exploratory Analysis of the ToothGrowth dataset"
author: "Graham King"
date: "9 January 2015"
output: html_document
---
```{r opts, echo=FALSE}
library(knitr)
opts_chunk$set(comment = NA, fig.width = 12, fig.height = 6, echo = FALSE)

read_chunk("ggInit.R")
read_chunk("tgIntro.R")
read_chunk("tgClean.R")
read_chunk("tgExplore1.R")
read_chunk("tgExplore3.R")
read_chunk("tgExplore4.R")
read_chunk("tgExplore5.R")
read_chunk("tgConfInt.R")
```
###Overview
This is an analysis of the ToothGrowth dataset from the R Datasets package.

The ToothGrowth help page has the following description of the dataset:

> The response is the length of odontoblasts (teeth) in each of 10 guinea pigs at each of three dose levels of Vitamin C (0.5, 1, and 2 mg) with each of two delivery methods (orange juice or ascorbic acid).

### Data cleaning
The dataset documentation suggests that this dataset should consist of 60 observations (10 subjects * 3 doses * 2 delivery methods)

```{r intro}
<<ggInit>>
<<tgIntro>>
```

From this I can see that tooth length is a continuous variable named `len`; delivery method is a factor variable named `supp` with levels `OJ` and `VC`; and the dose level is a numeric variable named `dose`. Given that dose represents three dose levels, this would be better as a factor.

The `supp` variable represents two delivery methods of Vitamin C, being orange juice and asorbic acid. However the levels are named 'OJ' and 'VC'. Presumably VC represents Ascorbic Acid. For clarity, I will rename the levels in this variable.
```{r clean, echo = TRUE}
<<tgClean>>
```

It should be noted that the ten subjects are not identified in the dataset. I will assume that the data is not paired.

A check on the number of nulls in the dataset shows that there are none:
```{r intro2, echo = TRUE}
<<tgIntro2>>
```

### Exploratory Plots
First I plot the distribution of the tooth length variable by supplement:
```{r tgExplore1}
<<tgExplore1>>
```
Figure 1 shows that the mean tooth length is greater with the Orange Juice supplement than with the Ascorbic Acid. However, despite having a lower mean, the Ascorbic Acid sample has a greater variance, demonstrated by a larger standard distribution.

*** Orange Juice skewed to the right.

*** Neither distribution can be truly normal, as there is a natural cut-off at zero - tooth length cannot be negative.

Having looked at how the supplement affects the tooth length distribution, I will now look at the effect that the supplement dose has.
```{r explore3}
<<tgExplore3>>
```
Figure 3 shows that a higher dose of supplement results in a longer tooth length.

Although there is a small amount of skew in some of the subsets of the data, I don't think this invalidates the use of *t* interval.

```{r explore4}
<<tgExplore4>>
```

```{r ci1}
<<ci1>>
```

```{r ci2}
<<ci2>>
```
95% T Confidence interval of the mean increase in length using supplement Orange Juice rather than Ascorbic Acid:
```{r ci3}
<<ci3>>
```
95% T Confidence interval of the mean increase in length using 2.0mg of Vitamin C rather than 0.5mg:
```{r ci4}
<<ci4>>
```
95% T Confidence interval of the mean increase in length using 2.0mg of Vitamin C delivered by Orange Juice rather than 0.5mg of Vitamin C delivered by Ascorbic Acid:
```{r ci5}
<<ci5>>
```

### Appendix
Initialise ggplot parameters:
```{r ap1, eval = FALSE, echo = TRUE}
<<ggInit>>
```
Introduction:
```{r ap2, eval = FALSE, echo = TRUE}
<<tgIntro>>
```
Clean data:
```{r ap3, eval = FALSE, echo = TRUE}
<<tgClean>>
```
Figure 1:
```{r ap4, eval = FALSE, echo = TRUE}
<<tgExplore1>>
```
Figure 3:
```{r ap5, eval = FALSE, echo = TRUE}
<<tgExplore3>>
```
Figure 4:
```{r ap6, eval = FALSE, echo = TRUE}
<<tgExplore4>>
```
Confidence Intervals
```{r ap7, eval = FALSE, echo = TRUE}
<<ci1>>
```
```{r ap8, eval = FALSE, echo = TRUE}
<<ci2>>
```
```{r ap9, eval = FALSE, echo = TRUE}
<<ci3>>
```
```{r ap10, eval = FALSE, echo = TRUE}
<<ci4>>
```
```{r ap11, eval = FALSE, echo = TRUE}
<<ci5>>
```